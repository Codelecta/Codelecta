<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Programming in Python</title>
    <link rel="stylesheet" href="Course2.css" />
    <link rel="stylesheet" href="../footer.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>

  <body>
    <!-- Main container for all page content -->
    <div class="container">
      <!-- Page title section -->
      <div class="title">
        <h1>Programming in Python</h1>
      </div>

      <div class="content">
        <p>
          Python is one of the most popular programming languages. It's simple
          to use, packed with features and supported by a wide range of
          libraries and frameworks. Its clean syntax makes it beginner-friendly.
        </p>
      </div>

      <div class="content">
        <h3>First Python Program</h3>
        <p>
          Here is a simple Python code, printing a string. We recommend you to
          edit the code and try to print your own name.
        </p>
      </div>

      <!-- Python compiler section -->
      <section class="compiler">
        <div class="compiler-header">
          <h2>Try Python in your browser</h2>
          <span id="py-status" class="status">Loading Python…</span>
        </div>

        <textarea
          id="py-code"
          spellcheck="false"
          aria-label="Python code editor"
        >
print("Hello from Python!")</textarea
        >

        <div class="controls">
          <button id="run-btn" disabled>Run ▶</button>
          <button id="clear-btn">Clear Output</button>
        </div>

        <div class="console">
          <div class="console-header">Output</div>
          <pre id="py-output" aria-live="polite">Waiting…</pre>
        </div>
      </section>
    </div>
    <div class="content">
      <h3>Why Learn Python?</h3>
      <ul>
        <li>
          Requires fewer lines of code compared to other programming languages.
        </li>
        <li>
          Provides Libraries / Frameworks like Django, Flask, Pandas,
          Tensorflow, Scikit-learn and many more
        </li>
        <li>
          Cross-platform, works on Windows, Mac and Linux without major changes.
        </li>
        <li>Used by top tech companies like Google, Netflix and NASA.</li>
        <li>
          Many Python coding job opportunities in Software Development, Data
          Science and AI/ML.
        </li>
      </ul>
    </div>
    <!-- Footer -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-content">
          <div class="footer-brand">
            <div class="logo-section">
              <img class="logo-1" src="../Logo.png" alt="Codelecta Logo" />
            </div>
            <p class="logo-subtitle">
              in collaboration with<br />Leading Tech Universities
            </p>

            <div class="contact-info">
              <p><strong>Tel:</strong> 01-4541577 , 01-4525661</p>
              <p><strong>Email:</strong> codelecta@gmail.com</p>
              <p><strong>Address:</strong> New Baneshwor, Kathmandu</p>
            </div>

            <div class="social-links">
              <a href="https://www.facebook.com/" title="Facebook"
                ><i class="fab fa-facebook-f"></i
              ></a>
              <a href="https://www.instagram.com/" title="Instagram"
                ><i class="fab fa-instagram"></i
              ></a>
              <a href="https://www.linkedin.com/" title="LinkedIn"
                ><i class="fab fa-linkedin-in"></i
              ></a>
              <a href="https://youtube.com/" title="Youtube"
                ><i class="fab fa-youtube"></i
              ></a>
            </div>

            <a href="../contactPage/contact.html" class="contact-btn"
              >Contact Us</a
            >
          </div>

          <div class="footer-section">
            <h3>About Us</h3>
            <ul>
              <li><a href="../aboutUs/aboutus.html">About Codelecta</a></li>
              <li><a href="../aboutUs/aboutus.html#team">Our Team</a></li>
              <li><a href="../aboutUs/aboutus.html#mission">Our Mission</a></li>
              <li><a href="../aboutUs/aboutus.html#values">Our Values</a></li>
              <li><a href="../servicePage/Services.html">Services</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h3>Courses</h3>
            <ul>
              <li>
                <a href="../coursePage/Course1.html">Introduction to Html</a>
              </li>
              <li>
                <a href="../coursePage/Course2.html">Programming in Python</a>
              </li>
              <li><a href="../coursePage/Course3.html">React Basics</a></li>
              <li>
                <a href="../coursePage/Course4.html">Introduction to Java</a>
              </li>
              <li><a href="../coursePage/Course5.html">Programming in C</a></li>
              <li><a href="../coursePage/Course6.html">PHP Basics</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h3>Support</h3>
            <ul>
              <li><a href="../contactPage/contact.html">Contact Us</a></li>
              <li><a href="../feedbackPage/feedback.html">Feedback</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h3>Quick Links</h3>
            <ul>
              <li><a href="../homePage/home.html">Home</a></li>
              <li><a href="../coursePage/Courses.html">Courses</a></li>
              <li><a href="../contactPage/contact.html">Contact</a></li>
              <li><a href="../feedbackPage/feedback.html">Feedback</a></li>
              <li><a href="../aboutUs/aboutus.html">About Us</a></li>
              <li><a href="../servicePage/Services.html">Services</a></li>
            </ul>
          </div>
        </div>

        <div class="footer-bottom">
          <div class="copyright">Copyright © Codelecta</div>
          <div class="footer-bottom-links">
            <a href="../policyPage/policy.html#privacy-policy"
              >Privacy Policy</a
            >
            <span class="separator">|</span>
            <a href="../policyPage/policy.html#terms">Terms & Conditions</a>
          </div>
        </div>
      </div>
    </footer>

    <!-- Pyodide: Python-in-the-browser runtime -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
    <script>
      let pyodide;

      // Initialize Pyodide and update UI when ready
      (async () => {
        const status = document.getElementById("py-status");
        try {
          status.textContent = "Downloading runtime…";
          pyodide = await loadPyodide();
          status.textContent = "Ready";
          document.getElementById("run-btn").disabled = false;
        } catch (e) {
          status.textContent = "Failed to load";
          console.error(e);
        }
      })();

      // Helper: run code and capture printed output (stdout & stderr)
      async function runPython() {
        const output = document.getElementById("py-output");
        const code = document.getElementById("py-code").value;

        if (!pyodide) {
          output.textContent = "Python runtime not ready yet.";
          return;
        }

        output.textContent = "Running…";

        try {
          // Redirect stdout/stderr to a StringIO buffer
          await pyodide.runPythonAsync(`
import sys
from io import StringIO
_sys_stdout = sys.stdout
_sys_stderr = sys.stderr
sys.stdout = StringIO()
sys.stderr = sys.stdout
        `);

          // Execute user code
          await pyodide.runPythonAsync(code);

          // Fetch everything that was printed
          const printed = await pyodide.runPythonAsync(`sys.stdout.getvalue()`);

          // Restore std streams
          await pyodide.runPythonAsync(`
sys.stdout = _sys_stdout
sys.stderr = _sys_stderr
del _sys_stdout, _sys_stderr
        `);

          output.textContent = printed || "✓ Code executed (no output).";
        } catch (err) {
          output.textContent = "Error:\n" + err;
        }
      }

      // Wire up buttons
      document.getElementById("run-btn").addEventListener("click", runPython);
      document.getElementById("clear-btn").addEventListener("click", () => {
        document.getElementById("py-output").textContent = "";
      });
    </script>
  </body>
</html>
